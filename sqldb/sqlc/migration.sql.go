// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.25.0
// source: migration.sql

package sqlc

import (
	"context"
	"database/sql"
)

const getMigration = `-- name: GetMigration :one
SELECT
  migration_id,
  migration_ts
FROM
  migration_tracker
WHERE
  migration_id = $1
`

func (q *Queries) GetMigration(ctx context.Context, migrationID string) (MigrationTracker, error) {
	row := q.db.QueryRowContext(ctx, getMigration, migrationID)
	var i MigrationTracker
	err := row.Scan(&i.MigrationID, &i.MigrationTs)
	return i, err
}

const updateMigration = `-- name: UpdateMigration :exec
UPDATE
  migration_tracker
SET
  migration_ts = $2
WHERE
  migration_id = $1
`

type UpdateMigrationParams struct {
	MigrationID string
	MigrationTs sql.NullTime
}

func (q *Queries) UpdateMigration(ctx context.Context, arg UpdateMigrationParams) error {
	_, err := q.db.ExecContext(ctx, updateMigration, arg.MigrationID, arg.MigrationTs)
	return err
}
